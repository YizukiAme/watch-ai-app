<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>Watch AI</title>
  <link rel="stylesheet" href="style.css" />

  <!-- 本地 KaTeX（离线可用） -->
  <link rel="stylesheet" href="lib/katex/katex.min.css">
  <script src="lib/katex/katex.min.js"></script>
  <script src="lib/katex/contrib/auto-render.min.js"></script>

  <!-- 本地 marked（离线可用；必须在 app.js 之前） -->
  <script src="lib/marked.min.js"></script>

  <!-- COS SDK：你之前没在 index.html 引，导致 cos not defined -->
  <script src="https://unpkg.com/cos-js-sdk-v5/dist/cos-js-sdk-v5.min.js"></script>
</head>
<body data-page="index">
  <div id="app">
    <!-- 顶部悬浮胶囊，不再占整条 -->
    <div id="history-controls" role="toolbar" aria-label="History Controls">
      <button id="new-chat-btn" class="pill-btn" title="New Chat" aria-label="New Chat">N</button>
      <a id="load-chat-link" class="pill-btn" href="history.html" title="History" aria-label="History">L</a>
      <div class="save-toggle">
        <input type="checkbox" id="auto-save-toggle" checked aria-label="Auto Save" />
        <label for="auto-save-toggle" class="pill-btn" title="Auto-Save">S</label>
      </div>
    </div>

    <div id="chat-window" aria-live="polite"></div>

    <!-- 右下角 Type 悬浮按钮 -->
    <a id="compose-btn" class="compose-link" href="input.html" title="输入" aria-label="输入">Type</a>
  </div>

  <!-- 你自己的脚本最后加载，确保上面依赖都在 -->
  <script src="app.js"></script>
</body>
</html>
